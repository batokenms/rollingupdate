# Create a namespace 

kubectl create namespace monitoring

# Install NGINX Ingress Controller

helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install nginx-ingress ingress-nginx/ingress-nginx --namespace monitoring

# This will output the status of all resources created for the NGINX controller.

kubectl get all -n monitoring

# Exposing NGINX via a Service (NodePort)
# If you're using a cloud-based cluster (e.g., GKE, AWS EKS), you may want to use a LoadBalancer type service.

apiVersion: v1
kind: Service
metadata:
  name: nginx-ingress
  namespace: monitoring
spec:
  type: NodePort
  ports:
    - port: 80
      targetPort: 80
      nodePort: 30080  # Change as needed, but should be between 30000-32767
  selector:
    app.kubernetes.io/name: ingress-nginx

# Apply the service definition:

kubectl apply -f nginx-ingress-service.yaml

# Check the external IP address and the port by running:

kubectl get svc -n monitoring nginx-ingress

# You will use this IP address (and port) to access the service externally (e.g., http://<EXTERNAL_IP>:30080).
